"use strict";(self.webpackChunkserviciosocial=self.webpackChunkserviciosocial||[]).push([[743],{6743:(K,_,d)=>{d.r(_),d.d(_,{PerfilModule:()=>H});var p=d(6019),c=d(6225),f=d(4762),e=d(3668),v=d(3120),b=d(5643),g=d(4576);function x(r,i){if(1&r&&(e.\u0275\u0275elementStart(0,"h5",21),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&r){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.usuario.nombreusuario)}}function y(r,i){if(1&r&&(e.\u0275\u0275elementStart(0,"h5",21),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&r){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.usuario.correo)}}function w(r,i){if(1&r&&(e.\u0275\u0275elementStart(0,"h5",21),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&r){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate("ROLE_SUPER_ADMIN"===n.usuario.role?"Super Admin":"ROLE_ADMIN_REDES"===n.usuario.role?"Admin Redes":"ROLE_ESTUDIANTE"===n.usuario.role?"Estudiante":"Pasante")}}let I=(()=>{class r{constructor(n,t){this.authService=n,this.usuarioService=t}ngOnInit(){return(0,f.mG)(this,void 0,void 0,function*(){this.user=this.authService.getUserFromLocalCache();try{this.usuario=yield this.usuarioService.obtenerUsuario(this.user.id).toPromise()}catch(n){console.error("Error al obtener el usuario: ",n)}})}}return r.\u0275fac=function(n){return new(n||r)(e.\u0275\u0275directiveInject(v.T),e.\u0275\u0275directiveInject(b.j))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["app-mostrar"]],decls:55,vars:3,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"page-title-box","d-flex","align-items-center","justify-content-between"],[1,"mb-0","font-size-18"],[1,"page-title-right"],[1,"breadcrumb","m-0"],[1,"breadcrumb-item","active"],[1,"col-sm-6"],[1,"card"],[1,"card-body"],[1,"card-icon","text-center"],[1,"bx","bx-user","bx-lg"],[1,"card-title"],[1,"card-text"],["class","text-center","style","font-weight: bold;",4,"ngIf"],["routerLink","/perfil/editarusuario",1,"btn","btn-primary"],[1,"bx","bx-key","bx-lg"],["routerLink","/perfil/editarcontrase\xf1a",1,"btn","btn-primary"],[1,"bx","bx-mail-send","bx-lg"],[1,"bx","bx-shield-quarter","bx-lg"],[1,"text-center",2,"font-weight","bold"]],template:function(n,t){1&n&&(e.\u0275\u0275element(0,"app-loader"),e.\u0275\u0275elementStart(1,"div",0),e.\u0275\u0275elementStart(2,"div",1),e.\u0275\u0275elementStart(3,"div",2),e.\u0275\u0275elementStart(4,"div",3),e.\u0275\u0275elementStart(5,"h4",4),e.\u0275\u0275text(6,"BIENVENIDO"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"div",5),e.\u0275\u0275elementStart(8,"ol",6),e.\u0275\u0275element(9,"li",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"div",1),e.\u0275\u0275elementStart(11,"div",8),e.\u0275\u0275elementStart(12,"div",9),e.\u0275\u0275elementStart(13,"div",10),e.\u0275\u0275elementStart(14,"div",11),e.\u0275\u0275element(15,"i",12),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"h5",13),e.\u0275\u0275text(17,"Usuario"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"p",14),e.\u0275\u0275text(19,"El nombre de usuario es como usted se identifica dentro del sistema."),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(20,x,2,1,"h5",15),e.\u0275\u0275elementStart(21,"a",16),e.\u0275\u0275text(22,"Editar"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"div",8),e.\u0275\u0275elementStart(24,"div",9),e.\u0275\u0275elementStart(25,"div",10),e.\u0275\u0275elementStart(26,"div",11),e.\u0275\u0275element(27,"i",17),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(28,"h5",13),e.\u0275\u0275text(29,"Contrase\xf1a"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(30,"p",14),e.\u0275\u0275text(31,"La contrase\xf1a es su clave de seguridad secreta para acceder a su cuenta de usuario."),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(32,"a",18),e.\u0275\u0275text(33,"Editar"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(34,"div",1),e.\u0275\u0275elementStart(35,"div",8),e.\u0275\u0275elementStart(36,"div",9),e.\u0275\u0275elementStart(37,"div",10),e.\u0275\u0275elementStart(38,"div",11),e.\u0275\u0275element(39,"i",19),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(40,"h5",13),e.\u0275\u0275text(41,"Correo Electr\xf3nico"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(42,"p",14),e.\u0275\u0275text(43,"El correo electr\xf3nico es al cual usted recibir\xe1 los c\xf3digos para cambio de contrase\xf1a en caso de olvido."),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(44,y,2,1,"h5",15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(45,"div",8),e.\u0275\u0275elementStart(46,"div",9),e.\u0275\u0275elementStart(47,"div",10),e.\u0275\u0275elementStart(48,"div",11),e.\u0275\u0275element(49,"i",20),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(50,"h5",13),e.\u0275\u0275text(51,"Rol"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(52,"p",14),e.\u0275\u0275text(53,"El rol define a que secciones del sistema usted tendr\xe1 acceso."),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(54,w,2,1,"h5",15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(20),e.\u0275\u0275property("ngIf",t.usuario&&t.usuario.nombreusuario),e.\u0275\u0275advance(24),e.\u0275\u0275property("ngIf",t.usuario&&t.usuario.correo),e.\u0275\u0275advance(10),e.\u0275\u0275property("ngIf",t.usuario&&t.usuario.role))},directives:[g.R,p.NgIf,c.yS],styles:['@charset "UTF-8";.card-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:35px}']}),r})();var o=d(9133),F=d(8498),m=d(549),E=d(1950);function k(r,i){1&r&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1,"Campo requerido "),e.\u0275\u0275elementEnd())}function P(r,i){1&r&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1,"No se permiten caracteres especiales "),e.\u0275\u0275elementEnd())}function M(r,i){1&r&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1,"4 caracteres m\xednimo "),e.\u0275\u0275elementEnd())}function T(r,i){if(1&r){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",22),e.\u0275\u0275elementStart(1,"h1",23),e.\u0275\u0275text(2,"Ayuda"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"button",24),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(n).$implicit.dismiss("Cross click")}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",25),e.\u0275\u0275elementStart(5,"div"),e.\u0275\u0275elementStart(6,"h2",26),e.\u0275\u0275text(7,"Ventana de Informaci\xf3n"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"label",27),e.\u0275\u0275elementStart(9,"strong"),e.\u0275\u0275text(10,"\xbfC\xf3mo utilizar esta p\xe1gina?"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"p",28),e.\u0275\u0275text(12,"Con el bot\xf3n "),e.\u0275\u0275elementStart(13,"strong"),e.\u0275\u0275text(14,"Editar"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(15," modificamos nuestro nombre usuario en el sistema."),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"p",28),e.\u0275\u0275text(17,"Para editar se debe modificar el texto con el nombre de usuario actual por el que nuevo que usted desea y dar presionar el bot\xf3n "),e.\u0275\u0275elementStart(18,"strong"),e.\u0275\u0275text(19,"Editar"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(20,". "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"div",29),e.\u0275\u0275elementStart(22,"button",30),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(n).$implicit.close("Close click")}),e.\u0275\u0275text(23,"Cerrar"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()}}let V=(()=>{class r{constructor(n,t,l,a,s){this.fb=n,this.modalService=t,this.router=l,this.authService=a,this.usuarioService=s,this.formulario=this.init()}ngOnInit(){return(0,f.mG)(this,void 0,void 0,function*(){this.breadCrumbItems=[{label:"Listado"}],this.user=this.authService.getUserFromLocalCache();try{this.usuario=yield this.usuarioService.obtenerUsuario(this.user.id).toPromise()}catch(n){console.error("Error al obtener el usuario: ",n)}this.formulario.reset(),this.formulario.get("nombreusuario").setValue(this.usuario.nombreusuario)})}init(){return this.fb.group({nombreusuario:["",[o.kI.required,o.kI.minLength(4),o.kI.pattern(F.s2)]]})}esCampoValido(n){const t=this.formulario.get(n);return!(null==t?void 0:t.valid)&&(null==t?void 0:t.touched)?"is-invalid":(null==t?void 0:t.touched)?"is-valid":""}editar(){const n=this.formulario.get("nombreusuario").value;this.usuarioService.setUsuario(n),this.router.navigateByUrl("/perfil/verificar")}openModalA(n){this.modalService.open(n,{keyboard:!1,scrollable:!0,size:"lg"})}}return r.\u0275fac=function(n){return new(n||r)(e.\u0275\u0275directiveInject(o.qu),e.\u0275\u0275directiveInject(m.FF),e.\u0275\u0275directiveInject(c.F0),e.\u0275\u0275directiveInject(v.T),e.\u0275\u0275directiveInject(b.j))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["app-editar-usuario"]],decls:32,vars:8,consts:[[1,"container-fluid"],["title","Usuario",3,"breadcrumbItems"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"col-sm-3"],[1,"text-danger","mb-4"],[1,"col-sm-8"],[3,"formGroup","ngSubmit"],[1,"row","mb-5"],[1,"col-sm-5","text-start"],[1,"text-danger"],["type","text","name","nombreusuario","autocomplete","off","formControlName","nombreusuario",1,"form-control"],[1,"invalid-feedback"],[4,"ngIf"],[1,"col-sm-3","mt-4","ms-4"],[1,"btn","btn-info","bg-gradient",3,"disabled"],[1,"col-sm-1","text-end"],["type","button","data-toggle","tooltip","ngbTooltip","Ayuda","data-placement","end",1,"btn","btn-info","btn-icon","rounded-circle","btn-transparent",2,"margin-right","+35px",3,"click"],[1,"fa","fa-question-circle","fa-lg"],["ayuda",""],[1,"modal-header","bg"],[1,"modal-title","text-white"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"modal-body","text-justify"],[2,"margin-bottom","15px"],[1,"fs-5"],[2,"font-size","15px"],[1,"modal-footer"],["type","button",1,"btn","btn-dark",3,"click"]],template:function(n,t){if(1&n){const l=e.\u0275\u0275getCurrentView();e.\u0275\u0275element(0,"app-loader"),e.\u0275\u0275elementStart(1,"div",0),e.\u0275\u0275element(2,"app-page-title",1),e.\u0275\u0275elementStart(3,"div",2),e.\u0275\u0275elementStart(4,"div",3),e.\u0275\u0275elementStart(5,"div",4),e.\u0275\u0275elementStart(6,"div",5),e.\u0275\u0275elementStart(7,"div",2),e.\u0275\u0275elementStart(8,"div",6),e.\u0275\u0275elementStart(9,"label",7),e.\u0275\u0275text(10," * Campo obligatorio"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"div",8),e.\u0275\u0275elementStart(12,"form",9),e.\u0275\u0275listener("ngSubmit",function(){return t.editar()}),e.\u0275\u0275elementStart(13,"div",10),e.\u0275\u0275elementStart(14,"div",11),e.\u0275\u0275elementStart(15,"label"),e.\u0275\u0275text(16,"Nombre usuario"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"span",12),e.\u0275\u0275text(18," *"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(19,"input",13),e.\u0275\u0275elementStart(20,"div",14),e.\u0275\u0275template(21,k,2,0,"span",15),e.\u0275\u0275template(22,P,2,0,"span",15),e.\u0275\u0275template(23,M,2,0,"span",15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(24,"div",16),e.\u0275\u0275elementStart(25,"button",17),e.\u0275\u0275text(26," Editar"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(27,"div",18),e.\u0275\u0275elementStart(28,"button",19),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(l);const s=e.\u0275\u0275reference(31);return t.openModalA(s)}),e.\u0275\u0275element(29,"i",20),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(30,T,24,0,"ng-template",null,21,e.\u0275\u0275templateRefExtractor)}if(2&n){let l,a,s;e.\u0275\u0275advance(2),e.\u0275\u0275property("breadcrumbItems",t.breadCrumbItems),e.\u0275\u0275advance(10),e.\u0275\u0275property("formGroup",t.formulario),e.\u0275\u0275advance(7),e.\u0275\u0275classMap(t.esCampoValido("nombreusuario")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",null==(l=t.formulario.get("nombreusuario"))||null==l.errors?null:l.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(a=t.formulario.get("nombreusuario"))||null==a.errors?null:a.errors.pattern),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(s=t.formulario.get("nombreusario"))||null==s.errors?null:s.errors.minlength),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!t.formulario.valid)}},directives:[g.R,E.V,o._Y,o.JL,o.sg,o.Fj,o.JJ,o.u,p.NgIf,m._L],styles:['@charset "UTF-8";.bg[_ngcontent-%COMP%]{background-color:#6e0000}.btn-icon.rounded-circle[_ngcontent-%COMP%]{width:20px;height:20px;padding:0;line-height:25px;font-size:20px}.btn-transparent[_ngcontent-%COMP%]{background-color:transparent;border:none;color:#007bff}.btn-transparent[_ngcontent-%COMP%]:hover{color:#0056b3}']}),r})();var U=d(1659),u=d.n(U);function j(r,i){1&r&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1,"Campo requerido "),e.\u0275\u0275elementEnd())}function L(r,i){1&r&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1,"8 caracteres m\xednimo "),e.\u0275\u0275elementEnd())}function O(r,i){if(1&r){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",24),e.\u0275\u0275elementStart(1,"h1",25),e.\u0275\u0275text(2,"Ayuda"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"button",26),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(n).$implicit.dismiss("Cross click")}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",27),e.\u0275\u0275elementStart(5,"div"),e.\u0275\u0275elementStart(6,"h2",28),e.\u0275\u0275text(7,"Ventana de Informaci\xf3n"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"label",29),e.\u0275\u0275elementStart(9,"strong"),e.\u0275\u0275text(10,"\xbfC\xf3mo utilizar esta p\xe1gina?"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"p",30),e.\u0275\u0275text(12,"Con el bot\xf3n "),e.\u0275\u0275elementStart(13,"strong"),e.\u0275\u0275text(14,"Verificar"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(15," verificaremos que su contrase\xf1a sea correcta."),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"p",30),e.\u0275\u0275text(17,"Para editar el nombre de usuario usted debe de ingresar su contrase\xf1a para validar los nuevos cambios. "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"div",31),e.\u0275\u0275elementStart(19,"button",32),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(n).$implicit.close("Close click")}),e.\u0275\u0275text(20,"Cerrar"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()}}function N(r,i){1&r&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1,"Campo requerido "),e.\u0275\u0275elementEnd())}function z(r,i){1&r&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1,"8 caracteres m\xednimo "),e.\u0275\u0275elementEnd())}function R(r,i){1&r&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1,"Campo requerido "),e.\u0275\u0275elementEnd())}function B(r,i){1&r&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1,"8 caracteres m\xednimo "),e.\u0275\u0275elementEnd())}function D(r,i){1&r&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1,"Campo requerido "),e.\u0275\u0275elementEnd())}function J(r,i){1&r&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1,"8 caracteres m\xednimo "),e.\u0275\u0275elementEnd())}function q(r,i){if(1&r){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",26),e.\u0275\u0275elementStart(1,"h1",27),e.\u0275\u0275text(2,"Ayuda"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"button",28),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(n).$implicit.dismiss("Cross click")}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",29),e.\u0275\u0275elementStart(5,"div"),e.\u0275\u0275elementStart(6,"h2",30),e.\u0275\u0275text(7,"Ventana de Informaci\xf3n"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"label",31),e.\u0275\u0275elementStart(9,"strong"),e.\u0275\u0275text(10,"\xbfC\xf3mo utilizar esta p\xe1gina?"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"p",32),e.\u0275\u0275text(12,"Con el bot\xf3n "),e.\u0275\u0275elementStart(13,"strong"),e.\u0275\u0275text(14,"Modificar"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(15," editamos la contrase\xf1a de nuestro usuario de acceso al sistema."),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"p",32),e.\u0275\u0275text(17,"Debe de ingresar su "),e.\u0275\u0275elementStart(18,"strong"),e.\u0275\u0275text(19,"Contrase\xf1a"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(20," actual para validar los cambios. "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"p",32),e.\u0275\u0275text(22,"Posteriormente debe de ingresar su "),e.\u0275\u0275elementStart(23,"strong"),e.\u0275\u0275text(24,"Nueva Contrase\xf1a"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(25," que ser\xe1 su nueva contrase\xf1a para su cuenta de usuario. "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(26,"p",32),e.\u0275\u0275text(27,"Finalmente debe de "),e.\u0275\u0275elementStart(28,"strong"),e.\u0275\u0275text(29,"Confirmar Contrase\xf1a"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(30," usted debe de confirmar su nueva contrase\xf1a para tener la seguridad de los nuevos cambios en ella. "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(31,"div",33),e.\u0275\u0275elementStart(32,"button",34),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(n).$implicit.close("Close click")}),e.\u0275\u0275text(33,"Cerrar"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()}}const G=[{path:"datos",component:I},{path:"editarusuario",component:V},{path:"verificar",component:(()=>{class r{constructor(n,t,l,a,s){this.fb=n,this.modalService=t,this.router=l,this.authService=a,this.usuarioService=s,this.submitted=!1,this.psstype="password",this.eye="mdi mdi-eye-off",this.cred={correo:"",password:""},this.formulario=this.init()}ngOnInit(){return(0,f.mG)(this,void 0,void 0,function*(){this.useredit=this.usuarioService.getUsuario(),this.user=this.authService.getUserFromLocalCache();try{this.usuario=yield this.usuarioService.obtenerUsuario(this.user.id).toPromise()}catch(n){console.error("Error al obtener el usuario: ",n)}})}init(){return this.fb.group({password:["",[o.kI.required,o.kI.minLength(8)]]})}get f(){return this.formulario.controls}verificar(){this.cred.correo=this.usuario.correo,this.cred.password=this.formulario.get("password").value,this.authService.login2(this.cred).subscribe(n=>{this.useredit?(this.usuario.nombreusuario=this.useredit,this.usuarioService.editar(this.usuario).subscribe(t=>{u().fire({confirmButtonColor:"#a90000",title:"\xc9xito",text:"Modificado correctamente",icon:"success"}).then(()=>{window.location.replace("/perfil/datos")})})):u().fire({confirmButtonColor:"#a90000",title:"Error",text:"Algo ocurri\xf3",icon:"error"})},n=>{400==n.status&&u().fire({confirmButtonColor:"#a90000",title:"Contrase\xf1a inv\xe1lida",text:"Por favor, ingrese su contrase\xf1a",icon:"warning"})})}cambiar(){this.psstype="text"===this.psstype?"password":"text",this.eye="mdi mdi-eye-outline"===this.eye?"mdi mdi-eye-off":"mdi mdi-eye-outline"}esCampoValido(n){const t=this.formulario.get(n);return!(null==t?void 0:t.valid)&&(null==t?void 0:t.touched)?"is-invalid":(null==t?void 0:t.touched)?"is-valid":""}openModalA(n){this.modalService.open(n,{keyboard:!1,scrollable:!0,size:"lg"})}}return r.\u0275fac=function(n){return new(n||r)(e.\u0275\u0275directiveInject(o.qu),e.\u0275\u0275directiveInject(m.FF),e.\u0275\u0275directiveInject(c.F0),e.\u0275\u0275directiveInject(v.T),e.\u0275\u0275directiveInject(b.j))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["app-validar"]],decls:31,vars:10,consts:[[1,"container-fluid"],["title","Contrase\xf1a"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"col-sm-3"],[1,"text-danger","mb-4"],[1,"col-sm-8"],[3,"formGroup","ngSubmit"],[1,"row","mb-5"],[1,"col-sm-7","text-start"],["for","password"],[1,"input-group","auth-pass-inputgroup"],["formControlName","password","placeholder","Ingrese contrase\xf1a","aria-label","Password","aria-describedby","password-addon",1,"form-control","bg-light",3,"type"],["type","button","id","password-addon",1,"btn","btn-light","ms-0",3,"click"],[1,"invalid-feedback"],[4,"ngIf"],[1,"col-sm-3","mt-4","ms-4"],[1,"btn","btn-info","bg-gradient",3,"disabled"],[1,"col-sm-1","text-end"],["type","button","data-toggle","tooltip","ngbTooltip","Ayuda","data-placement","end",1,"btn","btn-info","btn-icon","rounded-circle","btn-transparent",2,"margin-right","+35px",3,"click"],[1,"fa","fa-question-circle","fa-lg"],["ayuda",""],[1,"modal-header","bg"],[1,"modal-title","text-white"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"modal-body","text-justify"],[2,"margin-bottom","15px"],[1,"fs-5"],[2,"font-size","15px"],[1,"modal-footer"],["type","button",1,"btn","btn-dark",3,"click"]],template:function(n,t){if(1&n){const l=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"app-page-title",1),e.\u0275\u0275elementStart(2,"div",2),e.\u0275\u0275elementStart(3,"div",3),e.\u0275\u0275elementStart(4,"div",4),e.\u0275\u0275elementStart(5,"div",5),e.\u0275\u0275elementStart(6,"div",2),e.\u0275\u0275elementStart(7,"div",6),e.\u0275\u0275elementStart(8,"label",7),e.\u0275\u0275text(9," * Campo obligatorio"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"div",8),e.\u0275\u0275elementStart(11,"form",9),e.\u0275\u0275listener("ngSubmit",function(){return t.verificar()}),e.\u0275\u0275elementStart(12,"div",10),e.\u0275\u0275elementStart(13,"div",11),e.\u0275\u0275elementStart(14,"label",12),e.\u0275\u0275text(15,"Contrase\xf1a"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"div",13),e.\u0275\u0275element(17,"input",14),e.\u0275\u0275elementStart(18,"button",15),e.\u0275\u0275listener("click",function(){return t.cambiar()}),e.\u0275\u0275element(19,"i"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"div",16),e.\u0275\u0275template(21,j,2,0,"span",17),e.\u0275\u0275template(22,L,2,0,"span",17),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"div",18),e.\u0275\u0275elementStart(24,"button",19),e.\u0275\u0275text(25," Verificar"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(26,"div",20),e.\u0275\u0275elementStart(27,"button",21),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(l);const s=e.\u0275\u0275reference(30);return t.openModalA(s)}),e.\u0275\u0275element(28,"i",22),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(29,O,21,0,"ng-template",null,23,e.\u0275\u0275templateRefExtractor)}if(2&n){let l,a;e.\u0275\u0275advance(11),e.\u0275\u0275property("formGroup",t.formulario),e.\u0275\u0275advance(6),e.\u0275\u0275classMap(t.esCampoValido("password")),e.\u0275\u0275property("type",t.psstype),e.\u0275\u0275advance(2),e.\u0275\u0275classMap(t.eye),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",null==(l=t.formulario.get("password"))||null==l.errors?null:l.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(a=t.formulario.get("password"))||null==a.errors?null:a.errors.minlength),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!t.formulario.valid)}},directives:[E.V,o._Y,o.JL,o.sg,o.Fj,o.JJ,o.u,p.NgIf,m._L],styles:['@charset "UTF-8";.bg[_ngcontent-%COMP%]{background-color:#6e0000}.btn-icon.rounded-circle[_ngcontent-%COMP%]{width:20px;height:20px;padding:0;line-height:25px;font-size:20px}.btn-transparent[_ngcontent-%COMP%]{background-color:transparent;border:none;color:#007bff}.btn-transparent[_ngcontent-%COMP%]:hover{color:#0056b3}']}),r})()},{path:"editarcontrase\xf1a",component:(()=>{class r{constructor(n,t,l,a,s){this.fb=n,this.modalService=t,this.router=l,this.authService=a,this.usuarioService=s,this.psstype="password",this.eye="mdi mdi-eye-off",this.cred={correo:"",password:""},this.formulario=this.init()}ngOnInit(){return(0,f.mG)(this,void 0,void 0,function*(){this.user=this.authService.getUserFromLocalCache();try{this.usuario=yield this.usuarioService.obtenerUsuario(this.user.id).toPromise()}catch(n){console.error("Error al obtener el usuario: ",n)}})}init(){return this.fb.group({password:["",[o.kI.required,o.kI.minLength(8)]],newpassword:["",[o.kI.required,o.kI.minLength(8)]],confirmpassword:["",[o.kI.required,o.kI.minLength(8)]]})}modificar(){this.cred.correo=this.usuario.correo,this.cred.password=this.formulario.get("password").value;const n=this.formulario.get("newpassword").value,t=this.formulario.get("confirmpassword").value;this.authService.login2(this.cred).subscribe(l=>{n==t?1==/[A-Z]/.test(t)&&1==/\d/.test(t)?(this.usuario.password=t,this.usuarioService.editarContrase\u00f1a(this.usuario).subscribe(a=>{u().fire({confirmButtonColor:"#a90000",title:"\xc9xito",text:"Modificado correctamente",icon:"success"}),this.router.navigateByUrl("/perfil/datos")})):u().fire({confirmButtonColor:"#a90000",title:"Advertencia",text:"La contrase\xf1a debe contener al menos una may\xfascula y un n\xfamero",icon:"warning"}):u().fire({confirmButtonColor:"#a90000",title:"Advertencia",text:"Las contrase\xf1as no coinciden",icon:"warning"})},l=>{400==l.status&&u().fire({confirmButtonColor:"#a90000",title:"Contrase\xf1a inv\xe1lida",text:"Por favor, ingrese su contrase\xf1a",icon:"warning"})})}cambiar(){this.psstype="text"===this.psstype?"password":"text",this.eye="mdi mdi-eye-outline"===this.eye?"mdi mdi-eye-off":"mdi mdi-eye-outline"}esCampoValido(n){const t=this.formulario.get(n);return!(null==t?void 0:t.valid)&&(null==t?void 0:t.touched)?"is-invalid":(null==t?void 0:t.touched)?"is-valid":""}openModalA(n){this.modalService.open(n,{keyboard:!1,scrollable:!0,size:"lg"})}}return r.\u0275fac=function(n){return new(n||r)(e.\u0275\u0275directiveInject(o.qu),e.\u0275\u0275directiveInject(m.FF),e.\u0275\u0275directiveInject(c.F0),e.\u0275\u0275directiveInject(v.T),e.\u0275\u0275directiveInject(b.j))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["app-editar-password"]],decls:56,vars:26,consts:[[1,"container-fluid"],["title","Contrase\xf1a"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"col-sm-3"],[1,"text-danger","mb-4"],[1,"col-sm-8"],[3,"formGroup","ngSubmit"],[1,"row","mb-5"],[1,"col-sm-8","text-start"],["for","password"],[1,"input-group","auth-pass-inputgroup"],["formControlName","password","placeholder","Ingrese contrase\xf1a actual","aria-label","Password","aria-describedby","password-addon",1,"form-control","bg-light",3,"type"],["type","button","id","password-addon",1,"btn","btn-light","ms-0",3,"click"],[1,"invalid-feedback"],[4,"ngIf"],["formControlName","newpassword","placeholder","Ingrese nueva contrase\xf1a","aria-label","Password","aria-describedby","password-addon",1,"form-control","bg-light",3,"type"],["formControlName","confirmpassword","placeholder","Confirme su nueva contrase\xf1a","aria-label","Password","aria-describedby","password-addon",1,"form-control","bg-light",3,"type"],[1,"col-sm-7","text-center"],[1,"btn","btn-info","bg-gradient",3,"disabled"],[1,"col-sm-1","text-end"],["type","button","data-toggle","tooltip","ngbTooltip","Ayuda","data-placement","end",1,"btn","btn-info","btn-icon","rounded-circle","btn-transparent",2,"margin-right","+35px",3,"click"],[1,"fa","fa-question-circle","fa-lg"],["ayuda",""],[1,"modal-header","bg"],[1,"modal-title","text-white"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"modal-body","text-justify"],[2,"margin-bottom","15px"],[1,"fs-5"],[2,"font-size","15px"],[1,"modal-footer"],["type","button",1,"btn","btn-dark",3,"click"]],template:function(n,t){if(1&n){const l=e.\u0275\u0275getCurrentView();e.\u0275\u0275element(0,"app-loader"),e.\u0275\u0275elementStart(1,"div",0),e.\u0275\u0275element(2,"app-page-title",1),e.\u0275\u0275elementStart(3,"div",2),e.\u0275\u0275elementStart(4,"div",3),e.\u0275\u0275elementStart(5,"div",4),e.\u0275\u0275elementStart(6,"div",5),e.\u0275\u0275elementStart(7,"div",2),e.\u0275\u0275elementStart(8,"div",6),e.\u0275\u0275elementStart(9,"label",7),e.\u0275\u0275text(10," * Campo obligatorio"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"div",8),e.\u0275\u0275elementStart(12,"form",9),e.\u0275\u0275listener("ngSubmit",function(){return t.modificar()}),e.\u0275\u0275elementStart(13,"div",10),e.\u0275\u0275elementStart(14,"div",11),e.\u0275\u0275elementStart(15,"label",12),e.\u0275\u0275text(16,"Contrase\xf1a"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"div",13),e.\u0275\u0275element(18,"input",14),e.\u0275\u0275elementStart(19,"button",15),e.\u0275\u0275listener("click",function(){return t.cambiar()}),e.\u0275\u0275element(20,"i"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"div",16),e.\u0275\u0275template(22,N,2,0,"span",17),e.\u0275\u0275template(23,z,2,0,"span",17),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(24,"div",11),e.\u0275\u0275elementStart(25,"label",12),e.\u0275\u0275text(26,"Nueva contrase\xf1a"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(27,"div",13),e.\u0275\u0275element(28,"input",18),e.\u0275\u0275elementStart(29,"button",15),e.\u0275\u0275listener("click",function(){return t.cambiar()}),e.\u0275\u0275element(30,"i"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(31,"div",16),e.\u0275\u0275template(32,R,2,0,"span",17),e.\u0275\u0275template(33,B,2,0,"span",17),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(34,"div",11),e.\u0275\u0275elementStart(35,"label",12),e.\u0275\u0275text(36,"Confirmar contrase\xf1a"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(37,"div",13),e.\u0275\u0275element(38,"input",19),e.\u0275\u0275elementStart(39,"button",15),e.\u0275\u0275listener("click",function(){return t.cambiar()}),e.\u0275\u0275element(40,"i"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(41,"div",16),e.\u0275\u0275template(42,D,2,0,"span",17),e.\u0275\u0275template(43,J,2,0,"span",17),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(44,"br"),e.\u0275\u0275element(45,"br"),e.\u0275\u0275element(46,"br"),e.\u0275\u0275element(47,"br"),e.\u0275\u0275elementStart(48,"div",20),e.\u0275\u0275elementStart(49,"button",21),e.\u0275\u0275text(50," Modificar"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(51,"div",22),e.\u0275\u0275elementStart(52,"button",23),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(l);const s=e.\u0275\u0275reference(55);return t.openModalA(s)}),e.\u0275\u0275element(53,"i",24),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(54,q,34,0,"ng-template",null,25,e.\u0275\u0275templateRefExtractor)}if(2&n){let l,a,s,h,S,C;e.\u0275\u0275advance(12),e.\u0275\u0275property("formGroup",t.formulario),e.\u0275\u0275advance(6),e.\u0275\u0275classMap(t.esCampoValido("password")),e.\u0275\u0275property("type",t.psstype),e.\u0275\u0275advance(2),e.\u0275\u0275classMap(t.eye),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",null==(l=t.formulario.get("password"))||null==l.errors?null:l.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(a=t.formulario.get("password"))||null==a.errors?null:a.errors.minlength),e.\u0275\u0275advance(5),e.\u0275\u0275classMap(t.esCampoValido("newpassword")),e.\u0275\u0275property("type",t.psstype),e.\u0275\u0275advance(2),e.\u0275\u0275classMap(t.eye),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",null==(s=t.formulario.get("newpassword"))||null==s.errors?null:s.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(h=t.formulario.get("newpassword"))||null==h.errors?null:h.errors.minlength),e.\u0275\u0275advance(5),e.\u0275\u0275classMap(t.esCampoValido("confirmpassword")),e.\u0275\u0275property("type",t.psstype),e.\u0275\u0275advance(2),e.\u0275\u0275classMap(t.eye),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",null==(S=t.formulario.get("confirmpassword"))||null==S.errors?null:S.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(C=t.formulario.get("confirmpassword"))||null==C.errors?null:C.errors.minlength),e.\u0275\u0275advance(6),e.\u0275\u0275property("disabled",!t.formulario.valid)}},directives:[g.R,E.V,o._Y,o.JL,o.sg,o.Fj,o.JJ,o.u,p.NgIf,m._L],styles:['@charset "UTF-8";.bg[_ngcontent-%COMP%]{background-color:#6e0000}.btn-icon.rounded-circle[_ngcontent-%COMP%]{width:20px;height:20px;padding:0;line-height:25px;font-size:20px}.btn-transparent[_ngcontent-%COMP%]{background-color:transparent;border:none;color:#007bff}.btn-transparent[_ngcontent-%COMP%]:hover{color:#0056b3}']}),r})()}];let $=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=e.\u0275\u0275defineNgModule({type:r}),r.\u0275inj=e.\u0275\u0275defineInjector({imports:[[c.Bz.forChild(G)],c.Bz]}),r})();var Y=d(3091),X=d(7337),Z=d(4522);let H=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=e.\u0275\u0275defineNgModule({type:r}),r.\u0275inj=e.\u0275\u0275defineInjector({imports:[[p.CommonModule,$,Y.v,X.y,o.UX,m.IJ,o.u5,Z.JF]]}),r})()}}]);