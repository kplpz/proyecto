"use strict";(self.webpackChunkserviciosocial=self.webpackChunkserviciosocial||[]).push([[986],{7986:(j,f,o)=>{o.r(f),o.d(f,{CargoModule:()=>$});var c=o(6019),g=o(6225),s=o(9133),h=o(1659),m=o.n(h),b=o(8498),u=o(2501),v=o(3405),e=o(3668),E=o(8260),C=o(4522);let S=(()=>{class r{constructor(t){this.http=t,this.url=`${E.N.urlG}`}mostrarCargoList(){return this.http.get(`${this.url}/cargo/listaCargos`)}nuevoCargo(t){return this.http.post(`${this.url}/cargo/guardar`,t)}deleteCargo(t){return this.http.delete(`${this.url}/cargo/${t.id}`)}editarCargo(t){return this.http.put(`${this.url}/cargo/modificar`,t)}buscar(t,n=0,a=3){return this.http.get(`${this.url}/cargo/buscar/${t}?page=${n}&size=${a}`)}AdministradoresListaCargo(){return this.http.get(`${this.url}/administrador/listaAdmin`)}}return r.\u0275fac=function(t){return new(t||r)(e.\u0275\u0275inject(C.eN))},r.\u0275prov=e.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var p=o(549),x=o(4576),y=o(1950);function M(r,l){1&r&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1," Campo requerido"),e.\u0275\u0275elementEnd())}function I(r,l){if(1&r&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&r){const t=e.\u0275\u0275nextContext();let n;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" Tama\xf1o minimo del nombre ",null==(n=t.formCargo.get("nombrecargo"))||null==n.errors||null==n.errors.minlength?null:n.errors.minlength.requiredLength,"")}}function T(r,l){1&r&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1," No valido solo permite texto"),e.\u0275\u0275elementEnd())}function F(r,l){if(1&r){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tr"),e.\u0275\u0275elementStart(1,"td"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"td"),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"td"),e.\u0275\u0275elementStart(6,"button",29),e.\u0275\u0275listener("click",function(){const i=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275nextContext().setDatos(i)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"button",30),e.\u0275\u0275listener("click",function(){const i=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275nextContext().eliminandoconAlert(i)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()}if(2&r){const t=l.$implicit,n=l.index;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(n+1),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.nombrecargo)}}function L(r,l){if(1&r){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",31),e.\u0275\u0275elementStart(1,"h1",32),e.\u0275\u0275text(2,"Ayuda"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"button",33),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t).$implicit.dismiss("Cross click")}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",34),e.\u0275\u0275elementStart(5,"div"),e.\u0275\u0275elementStart(6,"h2",35),e.\u0275\u0275text(7,"Ventana de Informaci\xf3n"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"ul"),e.\u0275\u0275elementStart(9,"p",36),e.\u0275\u0275elementStart(10,"strong"),e.\u0275\u0275text(11,"Bot\xf3n Guardar:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"p",37),e.\u0275\u0275text(13,"Permite guardar el cargo ingresado, este se habilita cuando el nombre de cargo se est\xe1 escribiendo."),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"ul"),e.\u0275\u0275elementStart(15,"p",36),e.\u0275\u0275elementStart(16,"strong"),e.\u0275\u0275text(17,"Bot\xf3n Editar:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"p",37),e.\u0275\u0275text(19,"Permite realizar cambios en la informaci\xf3n previamente ingresada del cargo seleccionado."),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"ul"),e.\u0275\u0275elementStart(21,"p",36),e.\u0275\u0275elementStart(22,"strong"),e.\u0275\u0275text(23,"Bot\xf3n Eliminar:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(24,"p",37),e.\u0275\u0275text(25,"Permite eliminar el cargo seleccionado, si este ya est\xe1 siendo utilizado no se puede realizarse la acci\xf3n."),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(26,"div",38),e.\u0275\u0275elementStart(27,"button",39),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t).$implicit.close("Close click")}),e.\u0275\u0275text(28,"Cerrar"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()}}const _=[{path:"lista",component:(()=>{class r{constructor(t,n,a,i){this.cargoService=t,this.fb=n,this.modalService=a,this.router=i,this.cargos=[],this.dtOptions={},this.dtTrigger=new v.xQ,this.formCargo=this.iniciarFormulario()}ngOnInit(){this.breadCrumbItems=[{label:"Cargo"},{label:"Registrar",active:!0}],this.dtOptions={columnDefs:[{orderable:!1,targets:[0,2]},{searchable:!1,targets:[2]},{responsivePriority:1,targets:-1}],lengthMenu:[5,10,20,50],destroy:!0,language:{url:"//cdn.datatables.net/plug-ins/1.13.5/i18n/es-ES.json",lengthMenu:"Mostrar _MENU_ registros",zeroRecords:"Ning\xfan dato encontrado"},pagingType:"full_numbers",responsive:!0},this.getPageCargos()}ngOnDestroy(){this.dtTrigger.unsubscribe()}setDatos(t){this.cargoe=t}openModalA(t){this.modalService.open(t,{keyboard:!1,scrollable:!0,size:"lg"})}iniciarFormulario(){return this.fb.group({nombrecargo:["",[s.kI.required,s.kI.minLength(4),s.kI.pattern(b.s2)]],id:[""]})}esCampoValido(t){const n=this.formCargo.get(t);return!(null==n?void 0:n.valid)&&(null==n?void 0:n.touched)?"is-invalid":(null==n?void 0:n.touched)?"is-valid":""}getPageCargos(){this.cargoService.mostrarCargoList().subscribe(t=>{this.cargos=t,this.dtTrigger.next(null),this.cargoe=null}),this.cargoService.AdministradoresListaCargo().subscribe(t=>{this.administradores=t})}guardarCargos(){this.formCargo.valid?null!=this.cargoe?this.editandoCargo():this.registrandoCargoForm():m().fire({confirmButtonColor:"#a90000",position:"center",title:"Faltan datos en el formulario",text:"completar campos requeridos",icon:"warning"})}registrandoCargoForm(){const t=this.formCargo.value,n=this.formCargo.get("nombrecargo").value;this.existe(n)?m().fire({confirmButtonColor:"#a90000",title:"Error",text:"Ya existe el cargo",icon:"warning"}):this.cargoService.nuevoCargo(t).subscribe(i=>{i&&(m().fire({confirmButtonColor:"#a90000",title:"\xc9xito",text:"Almacenado correctamente",icon:"success"}),this.formCargo.reset(),this.reload())},i=>{m().fire({confirmButtonColor:"#a90000",title:"Advertencia",text:"Ocurrio un problema",icon:"warning"})})}editandoCargo(){this.cargoService.editarCargo(this.formCargo.value).subscribe(n=>{n&&(m().fire({confirmButtonColor:"#a90000",title:"\xc9xito",text:"Modificado correctamente",icon:"success"}),this.formCargo.reset(),this.reload())},n=>{m().fire({confirmButtonColor:"#a90000",title:"Advertencia",text:"Ocurrio un problema",icon:"warning"})})}eliminandoconAlert(t){m().fire({title:"\xbfEst\xe1 seguro de eliminar? ",text:"Esto no se puede revertir",icon:"question",showCancelButton:!0,confirmButtonColor:"#a90000",cancelButtonColor:"#343a40",confirmButtonText:"S\xed, borrar",cancelButtonText:"Cancelar"}).then(n=>{n.isConfirmed?this.verificar(t.id)?m().fire({confirmButtonColor:"#a90000",title:"Error",text:"El registro no puede ser eliminado",icon:"warning"}):this.cargoService.deleteCargo(t).subscribe(i=>{m().fire({confirmButtonColor:"#a90000",title:"Eliminado",text:"El registro ha sido eliminado",icon:"success"}),this.reload()}):n.isDenied&&m().fire({confirmButtonColor:"#a90000",title:"Informaci\xf3n",text:"Cambios no aplicados",icon:"info"})})}verificar(t){return this.administradores.some(n=>n.cargo.id===t)}existe(t){return this.cargos.some(n=>n.nombrecargo===t)}mostrarRecargando(){let t=this.router.url;this.router.routeReuseStrategy.shouldReuseRoute=()=>!1,this.router.onSameUrlNavigation="reload",this.router.navigate([t])}reload(){this.dtElement.dtInstance.then(t=>{this.cargos=[],t.destroy(),this.getPageCargos()})}}return r.\u0275fac=function(t){return new(t||r)(e.\u0275\u0275directiveInject(S),e.\u0275\u0275directiveInject(s.qu),e.\u0275\u0275directiveInject(p.FF),e.\u0275\u0275directiveInject(g.F0))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["app-lista-cargos"]],viewQuery:function(t,n){if(1&t&&e.\u0275\u0275viewQuery(u.G,5),2&t){let a;e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(n.dtElement=a.first)}},decls:47,vars:13,consts:[[1,"container-fluid"],["title","Cargo",3,"breadcrumbItems"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"col-sm-12","text-end"],[1,"text-sm-end","mb-3"],["type","button","data-toggle","tooltip","ngbTooltip","Ayuda","data-placement","end",1,"btn","btn-info","btn-icon","rounded-circle","btn-transparent",2,"margin-right","+35px",3,"click"],[1,"fa","fa-question-circle","fa-lg"],[1,"col-sm-3"],[1,"text-danger","mb-4"],[1,"col-9"],[3,"formGroup","ngSubmit"],[1,"row","mb-5"],["type","hidden","formControlName","id",1,"form-control",3,"ngModel"],[1,"col-sm-5","text-start"],[1,"text-danger"],["type","text","autocomplete","off","placeholder","Ej: Administrador","formControlName","nombrecargo",1,"form-control",3,"ngModel"],[1,"invalid-feedback"],[4,"ngIf"],[1,"col-sm-3","mt-4","ms-4"],["type","submit",1,"btn","btn-info","bg-gradient",3,"disabled"],[1,"text-sm-end"],["datatable","","width","100%",1,"row-border","hover",3,"dtOptions","dtTrigger"],[1,"table","bg-light","bg-gradient"],[1,""],[4,"ngFor","ngForOf"],["ayuda",""],["type","button","ngbTooltip","Editar",1,"btn","btn-outline-info","btn-sm","dripicons-document-edit",3,"click"],["type","button","ngbTooltip","Eliminar",1,"btn","btn-outline-danger","btn-sm","dripicons-cross",3,"click"],[1,"modal-header","bg"],[1,"modal-title","text-white"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"modal-body","text-justify"],[2,"margin-bottom","15px"],[1,"fs-5"],[2,"font-size","15px"],[1,"modal-footer"],["type","button",1,"btn","btn-dark",3,"click"]],template:function(t,n){if(1&t){const a=e.\u0275\u0275getCurrentView();e.\u0275\u0275element(0,"app-loader"),e.\u0275\u0275elementStart(1,"div",0),e.\u0275\u0275element(2,"app-page-title",1),e.\u0275\u0275elementStart(3,"div",2),e.\u0275\u0275elementStart(4,"div",3),e.\u0275\u0275elementStart(5,"div",4),e.\u0275\u0275elementStart(6,"div",5),e.\u0275\u0275elementStart(7,"div",2),e.\u0275\u0275elementStart(8,"div",6),e.\u0275\u0275elementStart(9,"div",7),e.\u0275\u0275elementStart(10,"button",8),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(a);const d=e.\u0275\u0275reference(46);return n.openModalA(d)}),e.\u0275\u0275element(11,"i",9),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"div",10),e.\u0275\u0275elementStart(13,"label",11),e.\u0275\u0275text(14," * Campo obligatorio"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"div",12),e.\u0275\u0275elementStart(16,"form",13),e.\u0275\u0275listener("ngSubmit",function(){return n.guardarCargos()}),e.\u0275\u0275elementStart(17,"div",14),e.\u0275\u0275elementStart(18,"div"),e.\u0275\u0275element(19,"input",15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"div",16),e.\u0275\u0275elementStart(21,"label"),e.\u0275\u0275text(22,"Nombre cargo"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"span",17),e.\u0275\u0275text(24," *"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(25,"input",18),e.\u0275\u0275elementStart(26,"div",19),e.\u0275\u0275template(27,M,2,0,"span",20),e.\u0275\u0275template(28,I,2,1,"span",20),e.\u0275\u0275template(29,T,2,0,"span",20),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(30,"div",21),e.\u0275\u0275elementStart(31,"button",22),e.\u0275\u0275text(32,"Guardar"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(33,"div",23),e.\u0275\u0275elementStart(34,"table",24),e.\u0275\u0275elementStart(35,"thead",25),e.\u0275\u0275elementStart(36,"tr"),e.\u0275\u0275elementStart(37,"th",26),e.\u0275\u0275text(38,"N."),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(39,"th",26),e.\u0275\u0275text(40,"Cargo"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(41,"th",26),e.\u0275\u0275text(42,"Acciones"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(43,"tbody"),e.\u0275\u0275template(44,F,8,2,"tr",27),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(45,L,29,0,"ng-template",null,28,e.\u0275\u0275templateRefExtractor)}if(2&t){let a,i,d;e.\u0275\u0275advance(2),e.\u0275\u0275property("breadcrumbItems",n.breadCrumbItems),e.\u0275\u0275advance(14),e.\u0275\u0275property("formGroup",n.formCargo),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngModel",null!=n.cargoe?n.cargoe.id:n.cargoe),e.\u0275\u0275advance(6),e.\u0275\u0275classMap(n.esCampoValido("nombrecargo")),e.\u0275\u0275property("ngModel",null!=n.cargoe?n.cargoe.nombrecargo:n.cargoe),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",null==(a=n.formCargo.get("nombrecargo"))||null==a.errors?null:a.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(i=n.formCargo.get("nombrecargo"))||null==i.errors?null:i.errors.minlength),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(d=n.formCargo.get("nombrecargo"))||null==d.errors?null:d.errors.pattern),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!n.formCargo.valid),e.\u0275\u0275advance(3),e.\u0275\u0275property("dtOptions",n.dtOptions)("dtTrigger",n.dtTrigger),e.\u0275\u0275advance(10),e.\u0275\u0275property("ngForOf",n.cargos)}},directives:[x.R,y.V,p._L,s._Y,s.JL,s.sg,s.Fj,s.JJ,s.u,c.NgIf,u.G,c.NgForOf],styles:['@charset "UTF-8";.btn-icon.rounded-circle[_ngcontent-%COMP%]{width:20px;height:20px;padding:0;line-height:25px;font-size:20px}.btn-transparent[_ngcontent-%COMP%]{background-color:transparent;border:none;color:#007bff}.btn-transparent[_ngcontent-%COMP%]:hover{color:#0056b3}.closeA[_ngcontent-%COMP%]{position:absolute;top:25px;left:750px}.modal-headerA[_ngcontent-%COMP%]{background-color:#6e0000;height:80px}.modal-titleA[_ngcontent-%COMP%]{color:#fff;position:absolute;top:20px;left:12px}.bg[_ngcontent-%COMP%]{background-color:#6e0000}']}),r})()}];let B=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.\u0275\u0275defineNgModule({type:r}),r.\u0275inj=e.\u0275\u0275defineInjector({imports:[[g.Bz.forChild(_)],g.Bz]}),r})();var O=o(2553),A=o(3091);let $=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.\u0275\u0275defineNgModule({type:r}),r.\u0275inj=e.\u0275\u0275defineInjector({imports:[[c.CommonModule,B,s.u5,O.M,s.UX,C.JF,A.v,u.T,p.HK]]}),r})()}}]);